#!/bin/bash

# Make sure we’re using the latest Homebrew
brew update

# Upgrade any already-installed formulae
brew upgrade

# Install GNU core utilities (those that come with OS X are outdated)
brew install coreutils
echo "Don’t forget to add $(brew --prefix coreutils)/libexec/gnubin to \$PATH."
# Install GNU `find`, `locate`, `updatedb`, and `xargs`, g-prefixed
brew install findutils
# Install Bash 4
brew install bash

# Install wget with IRI support
brew install wget --enable-iri

# Install more recent versions of some OS X tools
brew tap homebrew/dupes
brew install homebrew/dupes/grep
brew tap homebrew/php

# Install everything else
brew install ack
brew install git
brew install rename
brew install tree

# Cask applications
# Favorites
# Only do --force updates on Fridays
dateholder=$(date)
if [ ${dateholder:0:3} ] ; then
	echo "Friday: it is now time to force Cask updates."
	brew cask install adium --force
	brew cask install atom --force
	brew cask install codekit --force
	brew cask install docker --force
	brew cask install docker-compose --force
	brew cask install dockertoolbox --force
	brew cask install electron --force
	brew cask install gimp --force
	brew cask install inkscape --force
	brew cask install iterm2 --force
	brew cask install kitematic --force
	brew cask install mongotron --force
	brew cask install nylas-n1 --force
	brew cask install sqlectron --force
	brew cask install virtualbox --force
	brew cask install vagrant --force
	brew cask install vagrant-manager --force
	brew cask install visual-studio-code --force
	brew cask install xquartz --force
	# Optional for new installs
	#brew cask install dropbox --force
	#brew cask install sublime-text --force
	#brew cask install alfred --force
else
	echo "${dateholder:0:3}: Casks will checked for updates on Friday."
	brew cask install adium
	brew cask install atom
	brew cask install codekit
	brew cask install docker
	brew cask install docker-compose
	brew cask install dockertoolbox
	brew cask install electron
	brew cask install gimp
	brew cask install inkscape
	brew cask install iterm2
	brew cask install kitematic
	brew cask install mongotron
	brew cask install nylas-n1
	brew cask install sqlectron
	brew cask install virtualbox
	brew cask install vagrant
	brew cask install vagrant-manager
	brew cask install visual-studio-code
	brew cask install xquartz
	# Optional for new installs
	#brew cask install dropbox
	#brew cask install sublime-text
	#brew cask install alfred
fi

# Remove outdated versions from the cellar
brew cleanup
